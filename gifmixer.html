<html>
<head>
	<title>gif mixer</title>
	<script src="Sprite.js"></script> 
</head>
<style>
button {
	font-size: 8;
	font-weight: bold;
	border: 1px solid grey;
}
button:hover {
	border: 1px solid white;
}
</style>
<body bgcolor='#222' text="#ddd">
<div id="fauxsprite" style="border:1px solid red"></div>
<!--
<span style="position:relative; width:120px; height:140">
	<sprite-sheet src="layer0.png" width="120" height="140" frame-count="10" frame-rate="10" loop="forever" style="position:absolute; width:120; height:140;"></sprite-sheet>
	<sprite-sheet src="layer1.png" width="120" height="140" frame-count="10" frame-rate="10" loop="bounceonce" style="position:absolute; width:120; height:140;" element-click="true"></sprite-sheet>
</span>
<span>
	<span style="width:128; height:148"></span>
	<sprite-sheet src="sunsheet.png" width="194" height="154" frame-count="120" frame-rate="20" loop="forever" onclick="console.log('hey.')"></sprite-sheet>
	<script>
	//	var sun = document.getElementById("sunshine");
	//	sun.addEventListener("click", function(ev) {console.log("here comes the sun, doo doo doodoo.")});
	</script>
</span>
-->
<sprite-sheet 
	id="sprite"
	src="jebsheet.png" 
	width="256" 
	height="256" 
	frame-count="41" 
	frame-rate="20" 
	loop="bounce" 
	style="width:120; height:140;">
</sprite-sheet>
<br>

<div style="width:170; height:24; border: 1px solid black;">
	<button style="width:24; height:24;" onclick="home(event);"> |< </button>
	<button style="width:24; height:24;" onclick="prev(event);"> << </button>
	<button style="width:24; height:24;" onclick="stop(event);"> S </button>
	<button style="width:24; height:24;" onclick="play(event);" id="playbutton"> || </button>
	<button style="width:24; height:24;" onclick="next(event);"> >> </button>
	<button style="width:24; height:24;" onclick="end(event);"> >| </button>
</div>

<script>
	var sprite = new Sprite({
		src: "jebsheet.png",
		parentElement: document.getElementById("fauxsprite"),
		width: 256,
		height: 256,
		frameCount: 41,
		frameRate: 20,
		playing: false,
		loop:"bounce",
		onload: 	function() { console.debug("desc.onload"); }.bind(sprite),
		oncomplete: function() { console.debug("desc.oncomplete"); }.bind(sprite)
	});

	//var sprite = document.getElementById("sprite");
	home = function(ev) { 
		this.firstFrame(); 
	}.bind(sprite);

	end = function(ev) { 
		this.lastFrame();
	}.bind(sprite);

	next = function(ev) { 
		this.nextFrame(); 
	}.bind(sprite);

	prev = function(ev) { 
		this.previousFrame();
	}.bind(sprite);

	play = function(ev) {
		if(this.isPlaying()) {
			this.pause();
		} else {
			this.play(10,20);
		}
		updatePlayPause(this);
	}.bind(sprite);

	stop = function(ev) {
		this.pause();
		this.firstFrame();
		updatePlayPause(this);
	}.bind(sprite, play);

	updatePlayPause = function(s) {
		el = document.getElementById("playbutton");
		el.innerHTML = s.isPlaying() ? "||" : ">";
	}

	sprite.oncomplete = function() {
		this.oncomplete();
		updatePlayPause(this);
	}.bind(sprite);
</script>

</body>
</html>
